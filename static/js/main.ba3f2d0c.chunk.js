(window["webpackJsonpshop-list"]=window["webpackJsonpshop-list"]||[]).push([[0],{55:function(e,t,n){e.exports=n(72)},72:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(8),c=n.n(o),i=n(52),l=n(111),u=n(107),s=n(10),f=n(2),p=n(11);function m(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach(function(t){Object(p.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var O={items:{state:{},reducer:function(e,t){var n=t.action,r=t.payload;switch(n){case"set":return r instanceof Array?r.reduce(function(e,t){return b({},e,Object(p.a)({},t.id,t))},e):b({},e,Object(p.a)({},r.id,r));case"unset":var a=r.id;e[a];return Object(f.a)(e,[a].map(m));default:return e}}},filter:{state:{name:""},reducer:function(e,t){return b({},e,{},t)}},isDrawerOpen:{state:!1,reducer:function(e){return!e}}},g=n(93),v=n(94),j=n(44),y=Object(j.a)(function(e){return{root:{display:"flex"},button:{margin:e.spacing(2),marginLeft:"auto"}}}),w=a.a.memo(function(){var e=y();return a.a.createElement("div",{className:e.root},a.a.createElement(g.a,{className:e.button,size:"small"},a.a.createElement(v.a,null)))}),h=n(95),E=n(96),k=n(109),P=n(98),S=n(99),D=n(97),C=n(100),N=n(21),x=n(22),I=new(n(50).a)("Database");I.version(1).stores({items:"id",settings:"id"});var A=I;var W=function(){var e=Object(s.useStore)("items",!0);return{addItem:Object(r.useCallback)(function(t){A.items.put(t),e({action:"set",payload:t})},[e])}};function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var R=function(){var e=Object(s.useStore)("filter"),t=Object(x.a)(e,1)[0],n=Object(s.useStore)("items"),a=Object(x.a)(n,1)[0],o=Object(r.useState)([]),c=Object(x.a)(o,2),i=c[0],l=c[1],u=W().addItem;return Object(r.useEffect)(function(){var e=new RegExp(t.name,"i"),n=Object.values(a).reduce(function(t,n){return n.name.match(e)?[].concat(Object(N.a)(t),[n]):t},[]);l(n)},[a,t]),{items:i,updateStock:Object(r.useCallback)(function(e){var t=a[e.currentTarget.getAttribute("name")];u(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(n,!0).forEach(function(t){Object(p.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t,{inStock:!t.inStock}))},[a,u])}},T=Object(j.a)(function(e){return{root:{paddingTop:0,flex:1,overflow:"auto"}}}),U=a.a.memo(function(){var e=T(),t=R(),n=t.items,r=t.updateStock;return a.a.createElement(h.a,{className:e.root},n.map(function(e){return a.a.createElement(E.a,{button:!0,key:e.id,name:e.id,onClick:r},a.a.createElement(k.a,{disableRipple:!0,checked:e.inStock}),a.a.createElement(P.a,{primary:e.name}),a.a.createElement(S.a,null,a.a.createElement(D.a,null,a.a.createElement(C.a,null))))}))}),z=n(101),B=n(110),F=n(102),J=n(103),$=Object(j.a)(function(e){return{root:{display:"flex",alignItems:"center",margin:e.spacing(2),padding:e.spacing(1)},input:{flex:1,marginLeft:e.spacing(1),marginRight:e.spacing(1)},addIcon:{padding:e.spacing(0)},menuIcon:{padding:e.spacing(1)}}});var q=function(e){var t=e.name;return{id:t.toLowerCase(),name:t,inStock:!1}};var G=function(){var e=Object(s.useStore)("filter"),t=Object(x.a)(e,2),n=t[0],a=t[1],o=W().addItem,c=Object(s.useStore)("isDrawerOpen",!0),i=Object(r.useCallback)(function(e){a({name:e.target.value})},[a]),l=Object(r.useCallback)(function(){o(q({name:n.name})),a({name:""})},[a,o,n]);return{filter:n,updateFilter:i,addItem:l,toggleOpen:c}},H=a.a.memo(function(){var e=$(),t=G(),n=t.filter,r=t.updateFilter,o=t.addItem,c=t.toggleOpen,i=n.name;return a.a.createElement(z.a,{className:e.root},a.a.createElement(D.a,{className:e.menuIcon,onClick:c},a.a.createElement(F.a,null)),a.a.createElement(B.a,{value:i,onChange:r,className:e.input,placeholder:"Producto"}),a.a.createElement(D.a,{onClick:o,disabled:!i,className:e.addIcon},a.a.createElement(J.a,{fontSize:"large"})))}),K=n(108),M=n(34),Q=n(104),V=n(105),X=n(106),Y=Object(j.a)(function(e){return{title:{padding:e.spacing(2)}}}),Z=a.a.memo(function(){var e=Object(s.useStore)("isDrawerOpen"),t=Object(x.a)(e,2),n=t[0],r=t[1],o=Y();return a.a.createElement(K.a,{open:n,onClose:function(){return r()}},a.a.createElement(M.a,{variant:"h6",className:o.title},"Shop List"),a.a.createElement(Q.a,null),a.a.createElement(h.a,null,a.a.createElement(E.a,{button:!0},a.a.createElement(V.a,null,a.a.createElement(X.a,null)),a.a.createElement(P.a,{primary:"Test"}))))});function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(n,!0).forEach(function(t){Object(p.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var te=Object(j.a)(function(e){return{root:ee({},e.typography.body1,{position:"absolute",height:"100%",width:"100%",display:"flex",flexDirection:"column"})}}),ne=n(38),re=n.n(ne),ae=n(51);var oe=function(){var e=Object(s.useStore)("items",!0);Object(r.useEffect)(function(){function t(){return(t=Object(ae.a)(re.a.mark(function t(){var n;return re.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.items.toArray();case 2:n=t.sent,e({action:"set",payload:n});case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},[e])},ce=a.a.memo(function(){var e=te();return oe(),a.a.createElement("div",{className:e.root},a.a.createElement(Z,null),a.a.createElement(H,null),a.a.createElement(U,null),a.a.createElement(w,null))}),ie=Object(i.a)({spacing:function(e){return"".concat(.5*e,"rem")}}),le=function(){return a.a.createElement(s.Store,{reducers:O},a.a.createElement(l.a,{theme:ie},a.a.createElement(u.a,null),a.a.createElement(ce,null)))},ue=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function se(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(a.a.createElement(le,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/shop-list",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/shop-list","/service-worker.js");ue?(!function(e,t){fetch(e).then(function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):se(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):se(t,e)})}}()}},[[55,1,2]]]);
//# sourceMappingURL=main.ba3f2d0c.chunk.js.map