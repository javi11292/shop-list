(window["webpackJsonpshop-list"]=window["webpackJsonpshop-list"]||[]).push([[0],{62:function(e,t,n){e.exports=n(79)},79:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(7),o=n.n(c),i=n(57),u=n(122),l=n(116),s=n(10),m=n(2),p=n(12);function f(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach(function(t){Object(p.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var g={items:{state:{},reducer:function(e,t){var n=t.action,r=t.payload;switch(n){case"set":return r instanceof Array?r.reduce(function(e,t){return O({},e,Object(p.a)({},t.id,t))},e):O({},e,Object(p.a)({},r.id,r));case"unset":var a=r.id;e[a];return Object(m.a)(e,[a].map(f));default:return e}}},filter:{state:{name:"",isBuying:!1},reducer:function(e,t){return O({},e,{},t)}},isDrawerOpen:{state:!1,reducer:function(e){return!e}}},d=n(104),j=n(105),y=n(49),v=Object(y.a)(function(e){return{root:{display:"flex",alignItems:"center"},button:{margin:e.spacing(2),marginLeft:"auto"}}}),E=a.a.memo(function(){var e=v();return a.a.createElement("div",{className:e.root},a.a.createElement(d.a,{className:e.button,size:"medium"},a.a.createElement(j.a,null)))}),w=n(119),h=n(108),k=n(107),S=n(81),P=n(117),C=n(110),D=n(111),I=n(109),B=n(112),N=n(24),x=n(19),T=new(n(55).a)("Database");T.version(1).stores({items:"id",settings:"id"});var A=T;var L=function(){var e=Object(s.useStore)("items",!0);return{addItem:Object(r.useCallback)(function(t){A.items.put(t),e({action:"set",payload:t})},[e]),deleteItem:Object(r.useCallback)(function(t){A.items.delete(t.id),e({action:"unset",payload:t})},[e])}};function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var R=function(){var e=Object(s.useStore)("filter"),t=Object(x.a)(e,2),n=t[0],a=t[1],c=Object(s.useStore)("items"),o=Object(x.a)(c,1)[0],i=Object(r.useState)([]),u=Object(x.a)(i,2),l=u[0],m=u[1],f=L(),b=f.addItem,O=f.deleteItem,g=Object(r.useState)(),d=Object(x.a)(g,2),j=d[0],y=d[1];Object(r.useEffect)(function(){l.length||a({isBuying:!1})},[l,a]),Object(r.useEffect)(function(){var e=new RegExp(n.name,"i"),t=Object.values(o).reduce(function(t,r){return!r.name.match(e)||n.isBuying&&r.inStock?t:[].concat(Object(N.a)(t),[r])},[]).sort(function(e,t){return e.name.localeCompare(t.name)});m(t)},[o,n]);var v=Object(r.useCallback)(function(e){var t=o[e.currentTarget.getAttribute("name")];b(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(n,!0).forEach(function(t){Object(p.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t,{inStock:!t.inStock}))},[o,b]),E=Object(r.useCallback)(function(e){y(e.currentTarget)},[]),w=Object(r.useCallback)(function(){y()},[]),h=Object(r.useCallback)(function(){j&&(O(o[j.getAttribute("name")]),w())},[O,o,j,w]);return{items:l,updateStock:v,openMenu:E,closeMenu:w,anchor:j,removeItem:h}},z=Object(y.a)(function(e){return{root:{paddingTop:0,flex:1,overflow:"auto"}}}),F=a.a.memo(function(){var e=z(),t=R(),n=t.items,r=t.updateStock,c=t.openMenu,o=t.closeMenu,i=t.anchor,u=t.removeItem;return a.a.createElement(a.a.Fragment,null,a.a.createElement(w.a,{name:"menu",anchorEl:i,onClose:o,open:!!i},a.a.createElement(h.a,{onClick:u},"Eliminar")),a.a.createElement(k.a,{className:e.root},n.map(function(e){return a.a.createElement(S.a,{button:!0,key:e.id,name:e.id,onClick:r},a.a.createElement(P.a,{color:"primary",disableRipple:!0,checked:e.inStock}),a.a.createElement(C.a,{primary:e.name}),a.a.createElement(D.a,null,a.a.createElement(I.a,{onClick:c,name:e.id},a.a.createElement(B.a,null))))})))}),K=n(106),J=n(120),W=n(113),$=n(114),q=Object(y.a)(function(e){return{root:{display:"flex",alignItems:"center",margin:e.spacing(2),padding:e.spacing(.75)},input:{flex:1,marginLeft:e.spacing(1),marginRight:e.spacing(1)},addIcon:{padding:e.spacing(0)},menuIcon:{padding:e.spacing(1)}}});var G=function(e){var t=e.name;return{id:t.toLowerCase(),name:t,inStock:!1}};var H=function(){var e=Object(s.useStore)("filter"),t=Object(x.a)(e,2),n=t[0],a=t[1],c=L().addItem,o=Object(s.useStore)("isDrawerOpen",!0),i=Object(r.useCallback)(function(e){a({name:e.target.value})},[a]),u=Object(r.useCallback)(function(){n.name&&(c(G({name:n.name})),a({name:""}))},[a,c,n]),l=Object(r.useCallback)(function(e){"Enter"===e.key&&u()},[u]);return{filter:n,updateFilter:i,addItem:u,toggleOpen:o,handleKeyDown:l}},Q=a.a.memo(function(){var e=q(),t=H(),n=t.filter,r=t.updateFilter,c=t.addItem,o=t.toggleOpen,i=t.handleKeyDown,u=n.name;return a.a.createElement(K.a,{className:e.root},a.a.createElement(I.a,{className:e.menuIcon,onClick:o},a.a.createElement(W.a,null)),a.a.createElement(J.a,{value:u,onKeyDown:i,onChange:r,className:e.input,placeholder:"Producto"}),a.a.createElement(I.a,{onClick:c,disabled:!u,className:e.addIcon},a.a.createElement($.a,{fontSize:"large"})))}),U=n(121),V=n(39),X=n(115),Y=Object(y.a)(function(e){return{title:{padding:e.spacing(2)},item:{paddingRight:e.spacing(10)}}});var Z=function(){var e=Object(s.useStore)("filter"),t=Object(x.a)(e,2),n=t[0],a=t[1],c=Object(s.useStore)("isDrawerOpen"),o=Object(x.a)(c,2),i=o[0],u=o[1];return{toggleBuying:Object(r.useCallback)(function(){u(),a({isBuying:!n.isBuying})},[a,u,n]),isOpen:i,toggleOpen:u,isBuying:n.isBuying}},_=a.a.memo(function(){var e=Y(),t=Z(),n=t.isOpen,r=t.toggleOpen,c=t.toggleBuying,o=t.isBuying;return a.a.createElement(U.a,{open:n,onClose:function(){return r()}},a.a.createElement(V.a,{variant:"h6",className:e.title},"Shop List"),a.a.createElement(X.a,null),a.a.createElement(k.a,null,a.a.createElement(S.a,{button:!0,className:e.item,onClick:c},a.a.createElement(C.a,{primary:"".concat(o?"Terminar":"Empezar"," compra")}))))});function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(n,!0).forEach(function(t){Object(p.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ne=Object(y.a)(function(e){return{root:te({},e.typography.body1,{position:"absolute",height:"100%",width:"100%",display:"flex",flexDirection:"column"})}}),re=n(43),ae=n.n(re),ce=n(56);var oe=function(){var e=Object(s.useStore)("items",!0);Object(r.useEffect)(function(){function t(){return(t=Object(ce.a)(ae.a.mark(function t(){var n;return ae.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.items.toArray();case 2:n=t.sent,e({action:"set",payload:n});case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},[e])},ie=a.a.memo(function(){var e=ne();return oe(),a.a.createElement("div",{className:e.root},a.a.createElement(_,null),a.a.createElement(Q,null),a.a.createElement(F,null),a.a.createElement(E,null))}),ue=Object(i.a)({spacing:function(e){return"".concat(.5*e,"rem")}}),le=function(){return a.a.createElement(s.Store,{reducers:g},a.a.createElement(u.a,{theme:ue},a.a.createElement(l.a,null),a.a.createElement(ie,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[62,1,2]]]);
//# sourceMappingURL=main.40777a3a.chunk.js.map