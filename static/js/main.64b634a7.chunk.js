(window["webpackJsonpshop-list"]=window["webpackJsonpshop-list"]||[]).push([[0],{62:function(e,t,n){e.exports=n(79)},79:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(7),o=n.n(c),i=n(57),l=n(122),u=n(116),s=n(10),m=n(2),p=n(12);function f(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach(function(t){Object(p.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d={items:{state:{},reducer:function(e,t){var n=t.action,r=t.payload;switch(n){case"set":return r instanceof Array?r.reduce(function(e,t){return O({},e,Object(p.a)({},t.id,t))},e):O({},e,Object(p.a)({},r.id,r));case"unset":var a=r.id;e[a];return Object(m.a)(e,[a].map(f));default:return e}}},filter:{state:{name:""},reducer:function(e,t){return O({},e,{},t)}},isDrawerOpen:{state:!1,reducer:function(e){return!e}}},g=n(104),j=n(105),y=n(49),v=Object(y.a)(function(e){return{root:{display:"flex",alignItems:"center"},button:{margin:e.spacing(2),marginLeft:"auto"}}}),E=a.a.memo(function(){var e=v();return a.a.createElement("div",{className:e.root},a.a.createElement(g.a,{className:e.button,size:"medium"},a.a.createElement(j.a,null)))}),w=n(119),h=n(108),k=n(107),P=n(81),S=n(117),D=n(110),C=n(111),I=n(109),N=n(112),x=n(24),M=n(20),A=new(n(55).a)("Database");A.version(1).stores({items:"id",settings:"id"});var L=A;var R=function(){var e=Object(s.useStore)("items",!0);return{addItem:Object(r.useCallback)(function(t){L.items.put(t),e({action:"set",payload:t})},[e]),deleteItem:Object(r.useCallback)(function(t){L.items.delete(t.id),e({action:"unset",payload:t})},[e])}};function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var F=function(){var e=Object(s.useStore)("filter"),t=Object(M.a)(e,1)[0],n=Object(s.useStore)("items"),a=Object(M.a)(n,1)[0],c=Object(r.useState)([]),o=Object(M.a)(c,2),i=o[0],l=o[1],u=R(),m=u.addItem,f=u.deleteItem,b=Object(r.useState)(),O=Object(M.a)(b,2),d=O[0],g=O[1];Object(r.useEffect)(function(){var e=new RegExp(t.name,"i"),n=Object.values(a).reduce(function(t,n){return n.name.match(e)?[].concat(Object(x.a)(t),[n]):t},[]);l(n)},[a,t]);var j=Object(r.useCallback)(function(e){var t=a[e.currentTarget.getAttribute("name")];m(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(n,!0).forEach(function(t){Object(p.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t,{inStock:!t.inStock}))},[a,m]),y=Object(r.useCallback)(function(e){g(e.currentTarget)},[]),v=Object(r.useCallback)(function(){g()},[]),E=Object(r.useCallback)(function(){d&&(f(a[d.getAttribute("name")]),v())},[f,a,d,v]);return{items:i,updateStock:j,openMenu:y,closeMenu:v,anchor:d,removeItem:E}},K=Object(y.a)(function(e){return{root:{paddingTop:0,flex:1,overflow:"auto"}}}),z=a.a.memo(function(){var e=K(),t=F(),n=t.items,r=t.updateStock,c=t.openMenu,o=t.closeMenu,i=t.anchor,l=t.removeItem;return a.a.createElement(a.a.Fragment,null,a.a.createElement(w.a,{name:"menu",anchorEl:i,onClose:o,open:!!i},a.a.createElement(h.a,{onClick:l},"Eliminar")),a.a.createElement(k.a,{className:e.root},n.map(function(e){return a.a.createElement(P.a,{button:!0,key:e.id,name:e.id,onClick:r},a.a.createElement(S.a,{color:"primary",disableRipple:!0,checked:e.inStock}),a.a.createElement(D.a,{primary:e.name}),a.a.createElement(C.a,null,a.a.createElement(I.a,{onClick:c,name:e.id},a.a.createElement(N.a,null))))})))}),B=n(106),J=n(120),W=n(113),$=n(114),q=Object(y.a)(function(e){return{root:{display:"flex",alignItems:"center",margin:e.spacing(2),padding:e.spacing(.75)},input:{flex:1,marginLeft:e.spacing(1),marginRight:e.spacing(1)},addIcon:{padding:e.spacing(0)},menuIcon:{padding:e.spacing(1)}}});var G=function(e){var t=e.name;return{id:t.toLowerCase(),name:t,inStock:!1}};var H=function(){var e=Object(s.useStore)("filter"),t=Object(M.a)(e,2),n=t[0],a=t[1],c=R().addItem,o=Object(s.useStore)("isDrawerOpen",!0),i=Object(r.useCallback)(function(e){a({name:e.target.value})},[a]),l=Object(r.useCallback)(function(){n.name&&(c(G({name:n.name})),a({name:""}))},[a,c,n]),u=Object(r.useCallback)(function(e){"Enter"===e.key&&l()},[l]);return{filter:n,updateFilter:i,addItem:l,toggleOpen:o,handleKeyDown:u}},Q=a.a.memo(function(){var e=q(),t=H(),n=t.filter,r=t.updateFilter,c=t.addItem,o=t.toggleOpen,i=t.handleKeyDown,l=n.name;return a.a.createElement(B.a,{className:e.root},a.a.createElement(I.a,{className:e.menuIcon,onClick:o},a.a.createElement(W.a,null)),a.a.createElement(J.a,{value:l,onKeyDown:i,onChange:r,className:e.input,placeholder:"Producto"}),a.a.createElement(I.a,{onClick:c,disabled:!l,className:e.addIcon},a.a.createElement($.a,{fontSize:"large"})))}),U=n(121),V=n(39),X=n(115),Y=Object(y.a)(function(e){return{title:{padding:e.spacing(2)},item:{paddingRight:e.spacing(10)}}}),Z=a.a.memo(function(){var e=Object(s.useStore)("isDrawerOpen"),t=Object(M.a)(e,2),n=t[0],r=t[1],c=Y();return a.a.createElement(U.a,{open:n,onClose:function(){return r()}},a.a.createElement(V.a,{variant:"h6",className:c.title},"Shop List"),a.a.createElement(X.a,null),a.a.createElement(k.a,null,a.a.createElement(P.a,{className:c.item},a.a.createElement(D.a,{primary:"Mostrar todo"}),a.a.createElement(C.a,null,a.a.createElement(S.a,null)))))});function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(n,!0).forEach(function(t){Object(p.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var te=Object(y.a)(function(e){return{root:ee({},e.typography.body1,{position:"absolute",height:"100%",width:"100%",display:"flex",flexDirection:"column"})}}),ne=n(43),re=n.n(ne),ae=n(56);var ce=function(){var e=Object(s.useStore)("items",!0);Object(r.useEffect)(function(){function t(){return(t=Object(ae.a)(re.a.mark(function t(){var n;return re.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.items.toArray();case 2:n=t.sent,e({action:"set",payload:n});case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},[e])},oe=a.a.memo(function(){var e=te();return ce(),a.a.createElement("div",{className:e.root},a.a.createElement(Z,null),a.a.createElement(Q,null),a.a.createElement(z,null),a.a.createElement(E,null))}),ie=Object(i.a)({spacing:function(e){return"".concat(.5*e,"rem")}}),le=function(){return a.a.createElement(s.Store,{reducers:d},a.a.createElement(l.a,{theme:ie},a.a.createElement(u.a,null),a.a.createElement(oe,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[62,1,2]]]);
//# sourceMappingURL=main.64b634a7.chunk.js.map